(()=>{var t={194:t=>{function e({length:t,hits:e,sunk:n,row:o,col:i}){return{length:t,hits:e||0,sunk:n||!1,id:Date.now(),position:{row:o,column:i},hit(){this.hits++,this.isSunk()},isSunk(){this.length===this.hits&&(this.sunk=!0)}}}function n(){let t=[];for(let e=0;e<10;e++){t[e]=[];for(let n=0;n<10;n++)t[e][n]=0}return t}function o(){return{locations:n(),ships:[],placeShip(t,n,o,i){let a;if(!0===i){a={row:[],column:[o]};for(let e=n;e<n+t;e++)this.locations[e][o]=1,a.row.push(e)}else{a={row:[n],column:[]};for(let e=o;e<o+t;e++)this.locations[n][e]=1,a.column.push(e)}const r=e({length:t,row:a.row,col:a.column});this.ships.push(r)},receiveAttack(t,e){!1===this.ships.some((n=>!(!n.position.row.includes(t)||!n.position.column.includes(e)||(n.hit(),0))))&&(this.locations[t][e]="x")},checkSinked(){return this.ships.every((t=>{t.sunk}))}}}t.exports={createShip:e,Gameboard:o,AI:function(){const t=o(),e=n();return t.placeShip(4,2,3),t.placeShip(2,0,0),t.placeShip(5,9,0),t.placeShip(3,5,5,!0),{gameboard:t,markedLocations:e,doMove(){let t={row:Math.floor(9*Math.random()),column:Math.floor(9*Math.random())};if(0===this.markedLocations[t.row][t.column])return this.markedLocations[t.row][t.column]="x",t;this.doMove()}}}}}},e={};function n(o){var i=e[o];if(void 0!==i)return i.exports;var a=e[o]={exports:{}};return t[o](a,a.exports,n),a.exports}(()=>{"use strict";const{Gameboard:t,AI:e}=n(194),o=document.getElementsByTagName("main")[0];let i,a=t(),r=e();function s(t,e){const n=document.createElement(t);return n.classList.add(e),n}function c(){o.innerHTML=""}function d(){const t=s("div","player-board"),e=a.locations;for(let n=0;n<e.length;n++){const o=s("div","row");for(let r=0;r<e.length;r++){const c=s("div","square");1===e[n][r]&&c.classList.add("ship"),c.addEventListener("dragover",(t=>{t.preventDefault()}),!1),c.addEventListener("drop",(o=>{if(o.preventDefault(),1===e[n][r])return;if(0!=n&&0!=r&&1===e[n-1][r-1])return;if(9!=n&&9!=r&&1===e[n+1][r+1])return;if(0!=n&&1===e[n-1][r])return;if(9!=n&&1===e[n+1][r])return;if(0!=r&&1===e[n][r-1])return;if(9!=r&&1===e[n][r+1])return;if("on"===i.dataset.placed)return;let s=i.children.length;const c=i.dataset.horizontal;r+s>10&&"on"===c||n+s>10&&"off"===c||("on"===c?(i.dataset.placed="on",a.placeShip(s,n,r,!1)):(i.dataset.placed="on",a.placeShip(s,n,r,!0)),t.innerHTML="",d())})),o.appendChild(c)}t.appendChild(o)}o.appendChild(t)}function l(t,e){const n=s("div",e);n.dataset.horizontal="on",n.dataset.placed="off",n.draggable="true",n.addEventListener("drag",(()=>{i=n}));for(let e=0;e<t;e++){const t=s("div","boat-part");n.appendChild(t)}return n.addEventListener("click",(()=>{"on"!==n.dataset.placed&&("on"===n.dataset.horizontal?n.dataset.horizontal="off":n.dataset.horizontal="on")})),n}!function(){const t=s("div","new-game-container"),e=s("h2");e.innerText="New Game",e.addEventListener("click",(()=>{c(),function(){const t=s("div","boats-container"),e=l(5,"ship-container"),n=l(4,"ship-container"),i=l(3,"ship-container"),p=l(2,"ship-container"),h=s("div","start-game-container"),u=s("button","start-game");u.innerText="Start Game",u.id="start-game",u.addEventListener("click",(()=>{4==a.ships.length&&function(){const t=s("p");t.innerText="vs",c(),d(),o.appendChild(t),function(){const t=s("div","computer-board"),e=r.gameboard.locations;for(let n=0;n<e.length;n++){const o=s("div","row");for(let t=0;t<e.length;t++){const i=s("div","square");o.appendChild(i);let c=!1;i.addEventListener("click",(()=>{if(c)return;r.gameboard.receiveAttack(n,t),1===e[n][t]?(i.classList.add("hit"),console.log(r)):i.classList.add("miss"),c=!0;const o=r.doMove();a.receiveAttack(o.row,o.column)}))}t.appendChild(o)}o.appendChild(t)}()}()})),h.appendChild(u),t.append(e,n,i,p),o.append(t,h)}(),d()}));const n=s("div","credits"),i=s("p");i.innerText="Created by vladius9512";const p=s("a");p.href="https://github.com/vladius9512",p.target="_blank";const h=s("img");h.src="./images/github.svg",h.alt="github-logo",p.append(h),n.append(i,p),t.append(e,n),o.append(t)}()})()})();